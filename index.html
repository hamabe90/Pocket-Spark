<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Pocket Spark — DEBUG</title>
<style>
  body{margin:0;font-family:system-ui, -apple-system, Segoe UI, Roboto, Arial;background:#0e0e12;color:#e8e8ef}
  .bar{padding:10px 14px;font-weight:700}
  .red{background:#3b1d1f} .green{background:#14321f}
  .muted{opacity:.8}
  .wrap{padding:16px}
  pre{white-space:pre-wrap;background:#15161c;border:1px solid rgba(255,255,255,.12);padding:12px;border-radius:10px}
  button{padding:10px 12px;border-radius:10px;border:1px solid rgba(255,255,255,.2);background:#1c1d25;color:#e8e8ef}
</style>
<noscript>
  <div class="bar red">❌ JavaScript is disabled or blocked. Open this page in Safari and ensure Settings → Safari → Advanced → JavaScript is ON.</div>
</noscript>
</head>
<body>
<div id="jsbar" class="bar red">Checking JavaScript…</div>
<div class="wrap">
  <p>Tap the button. If you see an alert and the bar turns green, JS is running.</p>
  <button id="testBtn">Test Button</button>
  <h3>Console / Errors</h3>
  <pre id="log">(empty)</pre>
  <p class="muted">If errors appear, send me a screenshot.</p>
</div>
<script>
(function(){
  const bar = document.getElementById('jsbar');
  function ok(msg){ bar.className='bar green'; bar.textContent = '✅ ' + msg }
  function bad(msg){ bar.className='bar red'; bar.textContent = '❌ ' + msg }
  ok('JavaScript is running');
  document.getElementById('testBtn').addEventListener('click', ()=> alert('JS working'));
  const log = document.getElementById('log');
  const orig = console.error;
  console.error = function(...args){ orig.apply(console, args); log.textContent += '\\n' + args.join(' ') }
  window.onerror = function(msg, src, line, col, err){
    log.textContent += `\\nERROR: ${msg} @ ${src}:${line}:${col}`;
    bad('Error detected — see log below');
  };
})();
</script>
</body>
</html>
